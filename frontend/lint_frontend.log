
> frontend@1.0.0 lint
> eslint . --report-unused-disable-directives --max-warnings 0


D:\whackiest\ShopSense\frontend\eslint.config.js
  1:12  error  'require' is not defined  no-undef
  2:17  error  'require' is not defined  no-undef
  3:15  error  'require' is not defined  no-undef
  4:20  error  'require' is not defined  no-undef
  5:22  error  'require' is not defined  no-undef
  6:18  error  'require' is not defined  no-undef
  8:1   error  'module' is not defined   no-undef

D:\whackiest\ShopSense\frontend\public\firebase-messaging-sw.js
   3:1   error  'importScripts' is not defined  no-undef
   4:1   error  'importScripts' is not defined  no-undef
  16:1   error  'firebase' is not defined       no-undef
  18:19  error  'firebase' is not defined       no-undef

D:\whackiest\ShopSense\frontend\src\App.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\components\BillTemplate.jsx
   1:8   warning  'React' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               no-unused-vars
   3:22  error    Component definition is missing display name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    react/display-name
   5:9   warning  'center' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     no-unused-vars
  33:36  error    Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

  31 |       </div>
  32 |       <div className="flex justify-between text-[10px] mb-2">
> 33 |         <span>Bill No: {Math.floor(Math.random() * 100000)}</span>
     |                                    ^^^^^^^^^^^^^ Cannot call impure function
  34 |         <span>Cashier: Admin</span>
  35 |       </div>
  36 |  react-hooks/purity

D:\whackiest\ShopSense\frontend\src\components\HistoryModal.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\components\NetworkStatus.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\components\Sidebar.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\components\Toast.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\contexts\AuthContext.jsx
    1:8   warning  'React' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               no-unused-vars
    8:10  warning  'accessToken' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                no-unused-vars
   17:31  error    Error: Cannot access variable before it is declared

`tryRefresh` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  15 |     const init = async () => {
  16 |       // Always try to refresh/get a token first to ensure we have one for API calls
> 17 |       const refreshed = await tryRefresh();
     |                               ^^^^^^^^^^ `tryRefresh` accessed before it is declared
  18 |       if (!refreshed) {
  19 |         setLoading(false);
  20 |       } else {

  29 |   // Refresh access token
  30 |   // --------------------------
> 31 |   const tryRefresh = async () => {
     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 32 |     try {
     | ^^^^^^^^^
> 33 |       const res = await authAPI.refresh();
     …
     | ^^^^^^^^^
> 46 |     }
     | ^^^^^^^^^
> 47 |   };
     | ^^^^^ `tryRefresh` is declared here
  48 |
  49 |   // --------------------------
  50 |   // Login  react-hooks/immutability
   95:13  error    Empty block statement                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           no-empty
  137:14  warning  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  react-refresh/only-export-components

D:\whackiest\ShopSense\frontend\src\contexts\SyncContext.jsx
   1:8   warning  'React' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         no-unused-vars
   7:17  warning  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            react-refresh/only-export-components
  28:7   error    Error: Cannot access variable before it is declared

`syncOrders` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  26 |   useEffect(() => {
  27 |     if (isOnline && queue.length > 0 && !isSyncing) {
> 28 |       syncOrders();
     |       ^^^^^^^^^^ `syncOrders` accessed before it is declared
  29 |     }
  30 |   }, [isOnline, queue, isSyncing]);
  31 |

  36 |   };
  37 |
> 38 |   const syncOrders = async () => {
     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 39 |     setIsSyncing(true);
     | ^^^^^^^^^^^^^^^^^^^^^^^
> 40 |     console.log('Starting Sync...', queue.length, 'items');
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^
> 59 |     setIsSyncing(false);
     | ^^^^^^^^^^^^^^^^^^^^^^^
> 60 |   };
     | ^^^^^ `syncOrders` is declared here
  61 |
  62 |   const value = {
  63 |     isOnline,  react-hooks/immutability
  30:6   warning  React Hook useEffect has a missing dependency: 'syncOrders'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             react-hooks/exhaustive-deps

D:\whackiest\ShopSense\frontend\src\hooks\useVoice.js
  12:7   error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  10 |   useEffect(() => {
  11 |     if (!('webkitSpeechRecognition' in window)) {
> 12 |       setError('Web Speech API not supported in this browser.');
     |       ^^^^^^^^ Avoid calling setState() directly within an effect
  13 |       return;
  14 |     }
  15 |  react-hooks/set-state-in-effect
  65:16  warning  'e' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\Analytics.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\Billing.jsx
   47:48  warning  'directDownload' is assigned a value but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                no-unused-vars
   51:11  error    Error: Cannot access variable before it is declared

`handleCheckout` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  49 |       switch (intent) {
  50 |         case 'checkout':
> 51 |           handleCheckout();
     |           ^^^^^^^^^^^^^^ `handleCheckout` accessed before it is declared
  52 |           break;
  53 |         case 'generate_bill':
  54 |           handleGenerateBill(cart, totalAmount, true);

  161 |   const [lastOrder, setLastOrder] = useState(null);
  162 |
> 163 |   const handleCheckout = async () => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 164 |     if (cart.length === 0) return;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 165 |
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 191 |     }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 192 |   };
      | ^^^^^ `handleCheckout` is declared here
  193 |
  194 |   // --- BILL GENERATION & HISTORY ---
  195 |   const [previewImage, setPreviewImage] = useState(null);                                                                                                                                                                                                                                                       react-hooks/immutability
   54:11  error    Error: Cannot access variable before it is declared

`handleGenerateBill` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  52 |           break;
  53 |         case 'generate_bill':
> 54 |           handleGenerateBill(cart, totalAmount, true);
     |           ^^^^^^^^^^^^^^^^^^ `handleGenerateBill` accessed before it is declared
  55 |           showToast('Generating Bill...', 'info');
  56 |           break;
  57 |         case 'add_to_cart':

  213 |   }, [cart, totalAmount]);
  214 |
> 215 |   const handleGenerateBill = async (items = cart, total = totalAmount, directDownload = false) => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 216 |     // Force update bill data for the snapshot
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 217 |     // Use JSON stringify to compare content, or just always set it if we are switching contexts
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 263 |     }
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 264 |   };
      | ^^^^^ `handleGenerateBill` is declared here
  265 |
  266 |   const confirmDownload = () => {
  267 |     if (!previewImage) return;  react-hooks/immutability
   54:36  error    Error: Cannot access variable before it is declared

`totalAmount` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  52 |           break;
  53 |         case 'generate_bill':
> 54 |           handleGenerateBill(cart, totalAmount, true);
     |                                    ^^^^^^^^^^^ `totalAmount` accessed before it is declared
  55 |           showToast('Generating Bill...', 'info');
  56 |           break;
  57 |         case 'add_to_cart':

  157 |   const taxAmount = 0;
  158 |
> 159 |   const totalAmount = subtotal + taxAmount;
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `totalAmount` is declared here
  160 |
  161 |   const [lastOrder, setLastOrder] = useState(null);
  162 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            react-hooks/immutability
   58:11  error    Error: Cannot access variable before it is declared

`addToCart` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  56 |           break;
  57 |         case 'add_to_cart':
> 58 |           addToCart(product, quantity);
     |           ^^^^^^^^^ `addToCart` accessed before it is declared
  59 |           showToast(`Added ${quantity} x ${product.name}`, 'success');
  60 |           setSearchTerm('');
  61 |           break;

  127 |   }, [searchTerm, products]);
  128 |
> 129 |   const addToCart = (product, qty = 1) => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 130 |     setCart((prev) => {
      | ^^^^^^^^^^^^^^^^^^^^^^^
> 131 |       const existing = prev.find((item) => item.id === product.id);
      …
      | ^^^^^^^^^^^^^^^^^^^^^^^
> 141 |     setSearchTerm(''); // Clear search after adding
      | ^^^^^^^^^^^^^^^^^^^^^^^
> 142 |   };
      | ^^^^^ `addToCart` is declared here
  143 |
  144 |   const removeFromCart = (id) => {
  145 |     setCart((prev) => prev.filter((item) => item.id !== id));                                                                                                                                                                                          react-hooks/immutability
   63:11  error    Unexpected lexical declaration in case block                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       no-case-declarations
   65:13  error    Error: Cannot access variable before it is declared

`removeFromCart` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  63 |           const itemToRemove = cart.find((item) => item.id === product.id);
  64 |           if (itemToRemove) {
> 65 |             removeFromCart(product.id);
     |             ^^^^^^^^^^^^^^ `removeFromCart` accessed before it is declared
  66 |             showToast(`Removed ${product.name}`, 'info');
  67 |           } else {
  68 |             showToast(`${product.name} not in cart`, 'warning');

  142 |   };
  143 |
> 144 |   const removeFromCart = (id) => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 145 |     setCart((prev) => prev.filter((item) => item.id !== id));
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 146 |   };
      | ^^^^^ `removeFromCart` is declared here
  147 |
  148 |   const updateQuantity = (id, newQty) => {
  149 |     if (newQty < 1) return;                                                                                                                                                                                                                                                                                       react-hooks/immutability
   76:11  error    Unexpected lexical declaration in case block                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       no-case-declarations
   78:13  error    Error: Cannot access variable before it is declared

`updateQuantity` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  76 |           const itemToUpdate = cart.find((item) => item.id === product.id);
  77 |           if (itemToUpdate) {
> 78 |             updateQuantity(product.id, quantity);
     |             ^^^^^^^^^^^^^^ `updateQuantity` accessed before it is declared
  79 |             showToast(`Updated ${product.name} to ${quantity}`, 'success');
  80 |           } else {
  81 |             // Optional: Add it if not present? Or just warn.

  146 |   };
  147 |
> 148 |   const updateQuantity = (id, newQty) => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 149 |     if (newQty < 1) return;
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 150 |     setCart((prev) => prev.map((item) => (item.id === id ? { ...item, quantity: newQty } : item)));
      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 151 |   };
      | ^^^^^ `updateQuantity` is declared here
  152 |
  153 |   const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
  154 |                                                                                                                                                     react-hooks/immutability
   97:6   warning  React Hook useEffect has missing dependencies: 'cart', 'handleCheckout', 'handleGenerateBill', and 'totalAmount'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               react-hooks/exhaustive-deps
  100:5   error    Error: Cannot access variable before it is declared

`fetchProducts` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

   98 |
   99 |   useEffect(() => {
> 100 |     fetchProducts();
      |     ^^^^^^^^^^^^^ `fetchProducts` accessed before it is declared
  101 |   }, []);
  102 |
  103 |   const fetchProducts = async () => {

  101 |   }, []);
  102 |
> 103 |   const fetchProducts = async () => {
      |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 104 |     try {
      | ^^^^^^^^^
> 105 |       const res = await api.get('/products');
      | ^^^^^^^^^
> 106 |       setProducts(res.data);
      | ^^^^^^^^^
> 107 |     } catch (err) {
      | ^^^^^^^^^
> 108 |       console.error('Failed to fetch products', err);
      | ^^^^^^^^^
> 109 |     }
      | ^^^^^^^^^
> 110 |   };
      | ^^^^^ `fetchProducts` is declared here
  111 |
  112 |   // Real-time Search
  113 |   useEffect(() => {                                                                                                                                                                                                                                                                                                                                react-hooks/immutability
  189:14  warning  'err' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\Dashboard.jsx
   1:8   warning  'React' is defined but never used                       no-unused-vars
   8:17  warning  'setStats' is assigned a value but never used           no-unused-vars
  14:26  warning  'setRecentActivity' is assigned a value but never used  no-unused-vars
  28:17  warning  'token' is assigned a value but never used              no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\ForgotPassword.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\Login.jsx
   85:14  warning  'err' is defined but never used                                  no-unused-vars
  233:16  error    `'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`  react/no-unescaped-entities

D:\whackiest\ShopSense\frontend\src\pages\Profile.jsx
  1:8   warning  'React' is defined but never used  no-unused-vars
  2:10  warning  'Link' is defined but never used   no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\Register.jsx
   1:8   warning  'React' is defined but never used  no-unused-vars
  22:14  warning  'err' is defined but never used    no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\analytics\GstReport.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\inventory\AddProduct.jsx
    1:8   warning  'React' is defined but never used              no-unused-vars
    7:9   warning  'navigate' is assigned a value but never used  no-unused-vars
  144:41  warning  'index' is defined but never used              no-unused-vars

D:\whackiest\ShopSense\frontend\src\pages\inventory\EditProduct.jsx
   1:8  warning  'React' is defined but never used                                                                                no-unused-vars
  18:6  warning  React Hook useEffect has a missing dependency: 'fetchProduct'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

D:\whackiest\ShopSense\frontend\src\pages\inventory\Products.jsx
   1:8  warning  'React' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         no-unused-vars
  11:5  error    Error: Cannot access variable before it is declared

`fetchProducts` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

   9 |
  10 |   useEffect(() => {
> 11 |     fetchProducts();
     |     ^^^^^^^^^^^^^ `fetchProducts` accessed before it is declared
  12 |   }, []);
  13 |
  14 |   const fetchProducts = async () => {

  12 |   }, []);
  13 |
> 14 |   const fetchProducts = async () => {
     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 15 |     try {
     | ^^^^^^^^^
> 16 |       const { data } = await productAPI.getProducts();
     | ^^^^^^^^^
> 17 |       setProducts(data);
     | ^^^^^^^^^
> 18 |     } catch (err) {
     | ^^^^^^^^^
> 19 |       console.error(err);
     | ^^^^^^^^^
> 20 |     }
     | ^^^^^^^^^
> 21 |   };
     | ^^^^^ `fetchProducts` is declared here
  22 |
  23 |   const handleDelete = async (id) => {
  24 |     if (window.confirm('Are you sure you want to delete this product?')) {  react-hooks/immutability

D:\whackiest\ShopSense\frontend\src\pages\inventory\UpdateStock.jsx
  1:8  warning  'React' is defined but never used  no-unused-vars

D:\whackiest\ShopSense\frontend\src\utils\nlu.js
  72:20  warning  'matchStr' is assigned a value but never used  no-unused-vars
  97:16  warning  'matchStr' is assigned a value but never used  no-unused-vars

✖ 66 problems (28 errors, 38 warnings)

